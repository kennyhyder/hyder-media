(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,28366,e=>{"use strict";var s=e.i(10267),t=e.i(56068);let a="localhost"===window.location.hostname?"http://localhost:3000/api/solar":"/api/solar";function l({label:e,value:t,sub:a}){return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500 uppercase tracking-wide",children:e}),(0,s.jsx)("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:t}),a&&(0,s.jsx)("div",{className:"text-sm text-gray-400 mt-1",children:a})]})}function r(){let[e,r]=(0,t.useState)(null),[i,n]=(0,t.useState)(!0),[c,d]=(0,t.useState)(null);if((0,t.useEffect)(()=>{fetch(`${a}/stats`).then(e=>e.json()).then(r).catch(e=>d(e.message)).finally(()=>n(!1))},[]),i)return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[50vh]",children:(0,s.jsx)("div",{className:"text-gray-500",children:"Loading dashboard..."})});if(c)return(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-red-700",children:[(0,s.jsx)("strong",{children:"Error:"})," ",c]});if(!e)return null;let o=Object.entries(e.installations_by_state).sort((e,s)=>s[1]-e[1]),m=o[0]?.[1]||1;return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"SolarTrack Dashboard"}),(0,s.jsx)("p",{className:"text-gray-500 mt-1",children:"U.S. commercial and utility-scale solar installation database"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsx)(l,{label:"Total Sites",value:e.total_installations.toLocaleString()}),(0,s.jsx)(l,{label:"Total Capacity",value:`${(e.total_capacity_mw/1e3).toFixed(1)} GW`,sub:`${e.total_capacity_mw.toLocaleString()} MW`}),(0,s.jsx)(l,{label:"Equipment Records",value:e.total_equipment.toLocaleString()}),(0,s.jsx)(l,{label:"Sites >10 Years Old",value:e.equipment_aging.over_10_years.toLocaleString(),sub:`${e.equipment_aging.over_15_years.toLocaleString()} over 15 years`})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"By Site Type"}),Object.entries(e.installations_by_type).map(([e,t])=>(0,s.jsxs)("div",{className:"flex justify-between py-2 border-b last:border-0",children:[(0,s.jsx)("span",{className:"capitalize",children:e}),(0,s.jsx)("span",{className:"font-mono font-bold",children:t.toLocaleString()})]},e))]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Top Technologies"}),e.top_technologies.slice(0,8).map(e=>(0,s.jsxs)("div",{className:"flex justify-between py-2 border-b last:border-0",children:[(0,s.jsx)("span",{children:e.name}),(0,s.jsx)("span",{className:"font-mono font-bold",children:e.count.toLocaleString()})]},e.name))]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Top States"}),(0,s.jsx)("div",{className:"space-y-2",children:o.slice(0,15).map(([e,t])=>(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"w-8 text-sm font-bold text-gray-600",children:e}),(0,s.jsx)("div",{className:"flex-1 bg-gray-100 rounded-full h-4 overflow-hidden",children:(0,s.jsx)("div",{className:"bg-blue-500 h-full rounded-full",style:{width:`${t/m*100}%`}})}),(0,s.jsx)("span",{className:"text-sm font-mono w-16 text-right",children:t.toLocaleString()})]},e))})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Data Sources"}),(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"text-left text-gray-500 border-b",children:[(0,s.jsx)("th",{className:"pb-2",children:"Source"}),(0,s.jsx)("th",{className:"pb-2",children:"Records"}),(0,s.jsx)("th",{className:"pb-2",children:"Last Import"})]})}),(0,s.jsx)("tbody",{children:e.data_sources.map(e=>(0,s.jsxs)("tr",{className:"border-b last:border-0",children:[(0,s.jsx)("td",{className:"py-2 font-medium",children:e.name}),(0,s.jsx)("td",{className:"py-2 font-mono",children:e.record_count?.toLocaleString()||"0"}),(0,s.jsx)("td",{className:"py-2 text-gray-500",children:e.last_import?new Date(e.last_import).toLocaleDateString():"Never"})]},e.name))})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,s.jsxs)("a",{href:"/solar/search/",className:"bg-blue-600 text-white rounded-lg p-6 hover:bg-blue-700 transition",children:[(0,s.jsx)("h3",{className:"font-bold text-lg",children:"Search Sites"}),(0,s.jsx)("p",{className:"text-blue-100 text-sm mt-1",children:"Filter by state, capacity, date, and equipment"})]}),(0,s.jsxs)("a",{href:"/solar/equipment/",className:"bg-green-600 text-white rounded-lg p-6 hover:bg-green-700 transition",children:[(0,s.jsx)("h3",{className:"font-bold text-lg",children:"Equipment Search"}),(0,s.jsx)("p",{className:"text-green-100 text-sm mt-1",children:"Find sites by manufacturer, model, and age"})]}),(0,s.jsxs)("a",{href:"/solar/search/?min_size=1000",className:"bg-purple-600 text-white rounded-lg p-6 hover:bg-purple-700 transition",children:[(0,s.jsx)("h3",{className:"font-bold text-lg",children:"Utility Scale"}),(0,s.jsx)("p",{className:"text-purple-100 text-sm mt-1",children:"Browse all sites over 1 MW"})]})]})]})}e.s(["default",()=>r])}]);