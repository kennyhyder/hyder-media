(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88249,(e,t,a)=>{t.exports=e.r(50934)},30085,38201,e=>{"use strict";var t=e.i(10267);let a={installer:"bg-blue-100 text-blue-700",owner:"bg-green-100 text-green-700",developer:"bg-purple-100 text-purple-700",operator:"bg-amber-100 text-amber-700",manufacturer:"bg-red-100 text-red-700"};function l({role:e}){let l=a[e]||"bg-gray-100 text-gray-700";return(0,t.jsx)("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-medium capitalize ${l}`,children:e})}function s({rating:e,count:a}){if(!e)return null;let l=Math.floor(e),s=Math.round((e-l)*100);return(0,t.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,t.jsxs)("span",{className:"inline-flex","aria-label":`${e} out of 5 stars`,children:[Array.from({length:l}).map((e,a)=>(0,t.jsx)("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`full-${a}`)),s>0&&(0,t.jsxs)("span",{className:"relative w-4 h-4",children:[(0,t.jsx)("svg",{className:"absolute w-4 h-4 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,t.jsx)("span",{className:"absolute overflow-hidden",style:{width:`${s}%`},children:(0,t.jsx)("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]}),Array.from({length:5-l-(s>0)}).map((e,a)=>(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`empty-${a}`))]}),(0,t.jsx)("span",{className:"text-sm text-gray-600 font-medium",children:e.toFixed(1)}),null!=a&&a>0&&(0,t.jsxs)("span",{className:"text-sm text-gray-400",children:["(",a.toLocaleString(),")"]})]})}e.s(["default",()=>l],30085),e.s(["default",()=>s],38201)},30785,e=>{"use strict";var t=e.i(10267),a=e.i(56068),l=e.i(88249),s=e.i(30085),r=e.i(38201);let n="localhost"===window.location.hostname?"http://localhost:3000/api/solar":"/api/solar",i=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],c=[{value:"all",label:"All"},{value:"installer",label:"Installers"},{value:"owner",label:"Owners"},{value:"developer",label:"Developers"},{value:"operator",label:"Operators"},{value:"manufacturer",label:"Manufacturers"}];function o(){let e=(0,l.useSearchParams)(),[o,d]=(0,a.useState)([]),[x,m]=(0,a.useState)(null),[u,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)({type:e.get("type")||"all",name:e.get("name")||"",state:e.get("state")||"",sort:e.get("sort")||"site_count",min_sites:e.get("min_sites")||""}),[j,b]=(0,a.useState)(1),v=(0,a.useCallback)(async e=>{h(!0);let t=new URLSearchParams({page:String(e),limit:"50"});Object.entries(p).forEach(([e,a])=>{a&&t.set(e,a)});try{let e=await fetch(`${n}/directory?${t}`),a=await e.json();d(a.data||[]),m(a.pagination)}catch(e){console.error(e)}finally{h(!1)}},[p]);return(0,a.useEffect)(()=>{v(j)},[j,v]),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Business Directory"}),(0,t.jsx)("p",{className:"text-gray-500 mt-1",children:"Browse installers, owners, developers, operators, and equipment manufacturers"})]}),(0,t.jsx)("form",{onSubmit:e=>{e.preventDefault(),b(1),v(1)},className:"bg-white rounded-lg shadow p-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),(0,t.jsx)("input",{type:"text",value:p.name,onChange:e=>g({...p,name:e.target.value}),placeholder:"Search by name...",className:"w-full border rounded-md px-3 py-2 text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,t.jsx)("select",{value:p.type,onChange:e=>g({...p,type:e.target.value}),className:"w-full border rounded-md px-3 py-2 text-sm",children:c.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),(0,t.jsxs)("select",{value:p.state,onChange:e=>g({...p,state:e.target.value}),className:"w-full border rounded-md px-3 py-2 text-sm",children:[(0,t.jsx)("option",{value:"",children:"All States"}),i.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),(0,t.jsxs)("select",{value:p.sort,onChange:e=>g({...p,sort:e.target.value}),className:"w-full border rounded-md px-3 py-2 text-sm",children:[(0,t.jsx)("option",{value:"site_count",children:"Most Sites"}),(0,t.jsx)("option",{value:"capacity",children:"Largest Capacity"}),(0,t.jsx)("option",{value:"name",children:"Name (A-Z)"}),(0,t.jsx)("option",{value:"recent",children:"Most Recent"})]})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white rounded-md px-4 py-2 text-sm font-medium hover:bg-blue-700",children:"Search"})})]})}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map(e=>(0,t.jsx)("button",{onClick:()=>{var t;return t=e.value,void(g({...p,type:t}),b(1))},className:`px-3 py-1.5 rounded-full text-sm font-medium transition ${p.type===e.value?"bg-blue-600 text-white":"bg-white text-gray-600 border hover:bg-gray-50"}`,children:e.label},e.value))}),u?(0,t.jsx)("div",{className:"text-center py-12 text-gray-500",children:"Loading directory..."}):(0,t.jsxs)(t.Fragment,{children:[x&&(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[x.total.toLocaleString()," entities found"]}),(0,t.jsxs)("div",{className:"grid gap-4",children:[o.map((e,a)=>{var l;let n=(l=e.capacity_mw)?l>=1e3?`${(l/1e3).toFixed(1)} GW`:l>=1?`${l.toFixed(1)} MW`:`${Math.round(1e3*l)} kW`:null,i=e.id?`/solar/company/?id=${e.id}&role=${e.role}`:`/solar/company/?name=${encodeURIComponent(e.name)}&role=${e.role}`;return(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-5 hover:shadow-md transition",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg truncate",children:(0,t.jsx)("a",{href:i,className:"hover:text-blue-600",children:e.name})}),(0,t.jsx)(s.default,{role:e.role})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-1 text-sm text-gray-500",children:[(e.city||e.state)&&(0,t.jsx)("span",{children:[e.city,e.state].filter(Boolean).join(", ")}),e.phone&&(0,t.jsx)("a",{href:`tel:${e.phone}`,className:"hover:text-blue-600",children:e.phone}),e.equipment_types&&(0,t.jsx)("span",{className:"text-gray-400",children:e.equipment_types.join(", ")})]}),e.rating&&(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)(r.default,{rating:e.rating,count:e.review_count})}),e.geographic_focus&&e.geographic_focus.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:e.geographic_focus.map(e=>(0,t.jsx)("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs font-medium",children:e},e))}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[e.website&&(0,t.jsx)("a",{href:e.website.startsWith("http")?e.website:`https://${e.website}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition",children:"Website"}),(0,t.jsx)("a",{href:i,className:"inline-flex items-center gap-1.5 px-3 py-1.5 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 transition",children:"View Profile"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 shrink-0 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:e.site_count.toLocaleString()}),(0,t.jsx)("div",{className:"text-xs text-gray-500 uppercase",children:"sites"})]}),n&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:n}),(0,t.jsx)("div",{className:"text-xs text-gray-500 uppercase",children:"capacity"})]}),e.equipment_count&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:e.equipment_count.toLocaleString()}),(0,t.jsx)("div",{className:"text-xs text-gray-500 uppercase",children:"equipment"})]})]})]})},`${e.role}-${e.id||e.name}-${a}`)}),0===o.length&&(0,t.jsx)("div",{className:"text-center py-8 text-gray-400",children:"No entities found. Try adjusting your search."})]}),x&&x.totalPages>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("button",{onClick:()=>b(e=>Math.max(1,e-1)),disabled:1===j,className:"px-4 py-2 border rounded-md text-sm disabled:opacity-50",children:"Previous"}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["Page ",j," of ",x.totalPages.toLocaleString()]}),(0,t.jsx)("button",{onClick:()=>b(e=>Math.min(x.totalPages,e+1)),disabled:j>=x.totalPages,className:"px-4 py-2 border rounded-md text-sm disabled:opacity-50",children:"Next"})]})]})]})}function d(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{className:"text-gray-500 py-12 text-center",children:"Loading directory..."}),children:(0,t.jsx)(o,{})})}e.s(["default",()=>d])}]);