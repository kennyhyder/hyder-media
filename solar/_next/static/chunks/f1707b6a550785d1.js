(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88249,(e,s,t)=>{s.exports=e.r(50934)},26386,e=>{"use strict";var s=e.i(10267),t=e.i(56068),a=e.i(88249);let l="localhost"===window.location.hostname?"http://localhost:3000/api/solar":"/api/solar";function d(){let e=(0,a.useSearchParams)().get("id"),[d,i]=(0,t.useState)(null),[c,n]=(0,t.useState)(!0),[r,x]=(0,t.useState)(null);return((0,t.useEffect)(()=>{e&&fetch(`${l}/installation?id=${e}`).then(e=>e.json()).then(e=>i(e.data)).catch(e=>x(e.message)).finally(()=>n(!1))},[e]),e)?c?(0,s.jsx)("div",{className:"text-gray-500",children:"Loading site details..."}):r?(0,s.jsxs)("div",{className:"text-red-600",children:["Error: ",r]}):d?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("a",{href:"/solar/search/",className:"text-blue-600 hover:underline text-sm",children:"← Back to search"}),(0,s.jsx)("h1",{className:"text-2xl font-bold mt-2",children:d.site_name||`${d.county||"Unknown"}, ${d.state}`}),(0,s.jsxs)("div",{className:"flex gap-4 text-sm text-gray-500 mt-1",children:[(0,s.jsx)("span",{className:"capitalize bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:d.site_type}),(0,s.jsx)("span",{className:"capitalize bg-green-100 text-green-800 px-2 py-0.5 rounded",children:d.site_status}),d.state&&(0,s.jsxs)("span",{children:[d.county?`${d.county}, `:"",d.state]})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Site Details"}),(0,s.jsxs)("dl",{className:"space-y-3 text-sm",children:[d.capacity_mw&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-gray-500",children:"Capacity (MW)"}),(0,s.jsx)("dd",{className:"font-mono font-bold",children:Number(d.capacity_mw).toFixed(1)})]}),d.capacity_dc_kw&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-gray-500",children:"DC Capacity (kW)"}),(0,s.jsx)("dd",{className:"font-mono",children:Number(d.capacity_dc_kw).toLocaleString()})]}),d.capacity_ac_kw&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-gray-500",children:"AC Capacity (kW)"}),(0,s.jsx)("dd",{className:"font-mono",children:Number(d.capacity_ac_kw).toLocaleString()})]}),d.mount_type&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-gray-500",children:"Mount Type"}),(0,s.jsx)("dd",{className:"capitalize",children:d.mount_type})]}),d.tracking_type&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-gray-500",children:"Tracking"}),(0,s.jsx)("dd",{children:d.tracking_type})]}),d.install_date&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-gray-500",children:"Install Date"}),(0,s.jsx)("dd",{children:d.install_date})]}),d.has_battery_storage&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-gray-500",children:"Battery Storage"}),(0,s.jsxs)("dd",{children:["Yes",d.battery_capacity_kwh?` (${d.battery_capacity_kwh} kWh)`:""]})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Location"}),(0,s.jsxs)("dl",{className:"space-y-3 text-sm",children:[d.address&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-gray-500",children:"Address"}),(0,s.jsx)("dd",{children:d.address})]}),d.county&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-gray-500",children:"County"}),(0,s.jsx)("dd",{children:d.county})]}),d.state&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-gray-500",children:"State"}),(0,s.jsx)("dd",{children:d.state})]}),d.latitude&&d.longitude&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-gray-500",children:"Coordinates"}),(0,s.jsxs)("dd",{className:"font-mono text-xs",children:[Number(d.latitude).toFixed(4),", ",Number(d.longitude).toFixed(4)]})]})]}),d.latitude&&d.longitude&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("a",{href:`https://www.google.com/maps?q=${d.latitude},${d.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:"View on Google Maps →"})})]})]}),d.equipment&&d.equipment.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold mb-4",children:["Equipment (",d.equipment.length,")"]}),(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"text-left text-gray-500 border-b",children:[(0,s.jsx)("th",{className:"pb-2",children:"Type"}),(0,s.jsx)("th",{className:"pb-2",children:"Technology / Manufacturer"}),(0,s.jsx)("th",{className:"pb-2",children:"Model"}),(0,s.jsx)("th",{className:"pb-2",children:"Qty"}),(0,s.jsx)("th",{className:"pb-2",children:"Status"})]})}),(0,s.jsx)("tbody",{children:d.equipment.map(e=>(0,s.jsxs)("tr",{className:"border-b last:border-0",children:[(0,s.jsx)("td",{className:"py-2 capitalize",children:e.equipment_type}),(0,s.jsx)("td",{className:"py-2",children:e.module_technology||e.manufacturer||"-"}),(0,s.jsx)("td",{className:"py-2",children:e.model||"-"}),(0,s.jsx)("td",{className:"py-2 font-mono",children:e.quantity}),(0,s.jsx)("td",{className:"py-2 capitalize",children:e.equipment_status})]},e.id))})]})]}),d.events&&d.events.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold mb-4",children:["Site Events (",d.events.length,")"]}),(0,s.jsx)("div",{className:"space-y-3",children:d.events.map(e=>(0,s.jsxs)("div",{className:"flex gap-4 border-b last:border-0 pb-3",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500 w-24",children:e.event_date||"Unknown date"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"capitalize font-medium",children:e.event_type}),e.description&&(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-0.5",children:e.description})]})]},e.id))})]})]}):(0,s.jsx)("div",{className:"text-gray-500",children:"Site not found"}):(0,s.jsx)("div",{className:"text-gray-500",children:"No site ID provided"})}function i(){return(0,s.jsx)(t.Suspense,{fallback:(0,s.jsx)("div",{className:"text-gray-500",children:"Loading..."}),children:(0,s.jsx)(d,{})})}e.s(["default",()=>i])}]);