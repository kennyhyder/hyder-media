(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9838,e=>{"use strict";var t=e.i(10267),a=e.i(56068);let s="localhost"===window.location.hostname?"http://localhost:3000/api/solar":"/api/solar";function l(){let[e,l]=(0,a.useState)([]),[n,r]=(0,a.useState)(null),[i,d]=(0,a.useState)(!1),[c,o]=(0,a.useState)({manufacturer:"",model:"",equipment_type:"",min_age_years:"",state:""}),[m,x]=(0,a.useState)(1),u=(0,a.useCallback)(async e=>{d(!0);let t=new URLSearchParams({page:String(e),limit:"25"});Object.entries(c).forEach(([e,a])=>{a&&t.set(e,a)});try{let e=await fetch(`${s}/equipment?${t}`),a=await e.json();l(a.data||[]),r(a.pagination)}catch(e){console.error(e)}finally{d(!1)}},[c]);return(0,a.useEffect)(()=>{u(m)},[m,u]),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Equipment Search"}),(0,t.jsx)("p",{className:"text-gray-500 mt-1",children:"Search solar equipment across all installations by manufacturer, model, and age"})]}),(0,t.jsx)("form",{onSubmit:e=>{e.preventDefault(),x(1),u(1)},className:"bg-white rounded-lg shadow p-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manufacturer"}),(0,t.jsx)("input",{type:"text",value:c.manufacturer,onChange:e=>o({...c,manufacturer:e.target.value}),placeholder:"e.g. First Solar",className:"w-full border rounded-md px-3 py-2 text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),(0,t.jsx)("input",{type:"text",value:c.model,onChange:e=>o({...c,model:e.target.value}),placeholder:"e.g. Series 6",className:"w-full border rounded-md px-3 py-2 text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,t.jsxs)("select",{value:c.equipment_type,onChange:e=>o({...c,equipment_type:e.target.value}),className:"w-full border rounded-md px-3 py-2 text-sm",children:[(0,t.jsx)("option",{value:"",children:"All Types"}),(0,t.jsx)("option",{value:"module",children:"Module/Panel"}),(0,t.jsx)("option",{value:"inverter",children:"Inverter"}),(0,t.jsx)("option",{value:"battery",children:"Battery"}),(0,t.jsx)("option",{value:"tracker",children:"Tracker"}),(0,t.jsx)("option",{value:"racking",children:"Racking"}),(0,t.jsx)("option",{value:"transformer",children:"Transformer"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Age (years)"}),(0,t.jsx)("input",{type:"number",value:c.min_age_years,onChange:e=>o({...c,min_age_years:e.target.value}),placeholder:"e.g. 10",className:"w-full border rounded-md px-3 py-2 text-sm"})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsx)("button",{type:"submit",className:"w-full bg-green-600 text-white rounded-md px-4 py-2 text-sm font-medium hover:bg-green-700",children:"Search Equipment"})})]})}),i?(0,t.jsx)("div",{className:"text-center py-12 text-gray-500",children:"Searching..."}):(0,t.jsxs)(t.Fragment,{children:[n&&(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[n.total.toLocaleString()," equipment records found"]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"text-left px-4 py-3 font-medium text-gray-500",children:"Type"}),(0,t.jsx)("th",{className:"text-left px-4 py-3 font-medium text-gray-500",children:"Technology"}),(0,t.jsx)("th",{className:"text-left px-4 py-3 font-medium text-gray-500",children:"Site"}),(0,t.jsx)("th",{className:"text-left px-4 py-3 font-medium text-gray-500",children:"Location"}),(0,t.jsx)("th",{className:"text-right px-4 py-3 font-medium text-gray-500",children:"Capacity"}),(0,t.jsx)("th",{className:"text-left px-4 py-3 font-medium text-gray-500",children:"Year"})]})}),(0,t.jsxs)("tbody",{children:[e.map(e=>(0,t.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-4 py-3 capitalize",children:e.equipment_type}),(0,t.jsxs)("td",{className:"px-4 py-3",children:[e.module_technology||e.manufacturer||"-",e.model&&(0,t.jsx)("div",{className:"text-xs text-gray-400",children:e.model})]}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("a",{href:`/solar/site/?id=${e.installation.id}`,className:"text-blue-600 hover:underline",children:e.installation.site_name||"Unknown"})}),(0,t.jsxs)("td",{className:"px-4 py-3",children:[e.installation.state,e.installation.county&&(0,t.jsxs)("span",{className:"text-gray-400 ml-1",children:["(",e.installation.county,")"]})]}),(0,t.jsx)("td",{className:"px-4 py-3 text-right font-mono",children:e.installation.capacity_mw?`${Number(e.installation.capacity_mw).toFixed(1)} MW`:"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-gray-500",children:e.installation.install_date?.substring(0,4)||"-"})]},e.id)),0===e.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-400",children:"No equipment found. Try adjusting your search."})})]})]})}),n&&n.totalPages>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("button",{onClick:()=>x(e=>Math.max(1,e-1)),disabled:1===m,className:"px-4 py-2 border rounded-md text-sm disabled:opacity-50",children:"Previous"}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["Page ",m," of ",n.totalPages.toLocaleString()]}),(0,t.jsx)("button",{onClick:()=>x(e=>Math.min(n.totalPages,e+1)),disabled:m>=n.totalPages,className:"px-4 py-2 border rounded-md text-sm disabled:opacity-50",children:"Next"})]})]})]})}e.s(["default",()=>l])}]);