(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88249,(e,t,a)=>{t.exports=e.r(50934)},69824,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let l=e.r(30438);function s({reason:e,children:t}){if("u"<typeof window)throw Object.defineProperty(new l.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},30434,(e,t,a)=>{"use strict";function l(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"encodeURIPath",{enumerable:!0,get:function(){return l}})},33737,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"PreloadChunks",{enumerable:!0,get:function(){return o}});let l=e.r(10267),s=e.r(92395),r=e.r(34767),n=e.r(30434),i=e.r(45679);function o({moduleIds:e}){if("u">typeof window)return null;let t=r.workAsyncStorage.getStore();if(void 0===t)return null;let a=[];if(t.reactLoadableManifest&&e){let l=t.reactLoadableManifest;for(let t of e){if(!l[t])continue;let e=l[t].files;a.push(...e)}}if(0===a.length)return null;let o=(0,i.getDeploymentIdQueryOrEmptyString)();return(0,l.jsx)(l.Fragment,{children:a.map(e=>{let a=`${t.assetPrefix}/_next/${(0,n.encodeURIPath)(e)}${o}`;return e.endsWith(".css")?(0,l.jsx)("link",{precedence:"dynamic",href:a,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,s.preload)(a,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},72957,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return c}});let l=e.r(10267),s=e.r(56068),r=e.r(69824),n=e.r(33737);function i(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},c=function(e){let t={...o,...e},a=(0,s.lazy)(()=>t.loader().then(i)),c=t.loading;function d(e){let i=c?(0,l.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,d=o?s.Suspense:s.Fragment,u=t.ssr?(0,l.jsxs)(l.Fragment,{children:["u"<typeof window?(0,l.jsx)(n.PreloadChunks,{moduleIds:t.modules}):null,(0,l.jsx)(a,{...e})]}):(0,l.jsx)(r.BailoutToCSR,{reason:"next/dynamic",children:(0,l.jsx)(a,{...e})});return(0,l.jsx)(d,{...o?{fallback:i}:{},children:u})}return d.displayName="LoadableComponent",d}},69782,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s}});let l=e.r(13288)._(e.r(72957));function s(e,t){let a={};"function"==typeof e&&(a.loader=e);let s={...a,...t};return(0,l.default)({...s,modules:s.loadableGenerated?.modules})}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),t.exports=a.default)},26386,e=>{"use strict";var t=e.i(10267),a=e.i(56068),l=e.i(88249);let s=(0,e.i(69782).default)(()=>e.A(73117),{loadableGenerated:{modules:[73383]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"h-[300px] bg-gray-100 rounded-lg flex items-center justify-center text-gray-400",children:"Loading map..."})}),r="localhost"===window.location.hostname?"http://localhost:3000/api/solar":"/api/solar";function n({label:e,value:a,link:l}){return a?(0,t.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100 last:border-0",children:[(0,t.jsx)("dt",{className:"text-gray-500",children:e}),(0,t.jsx)("dd",{className:"font-medium text-right",children:l?(0,t.jsx)("a",{href:l,className:"text-blue-600 hover:underline",children:String(a)}):String(a)})]}):null}function i(){let e=(0,l.useSearchParams)().get("id"),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)(null);if((0,a.useEffect)(()=>{e&&fetch(`${r}/installation?id=${e}`).then(e=>e.json()).then(e=>o(e.data)).catch(e=>m(e.message)).finally(()=>d(!1))},[e]),!e)return(0,t.jsx)("div",{className:"text-gray-500",children:"No site ID provided"});if(c)return(0,t.jsx)("div",{className:"text-gray-500 py-12 text-center",children:"Loading site details..."});if(u)return(0,t.jsxs)("div",{className:"text-red-600",children:["Error: ",u]});if(!i)return(0,t.jsx)("div",{className:"text-gray-500",children:"Site not found"});let p=i.install_date?Math.floor((Date.now()-new Date(i.install_date).getTime())/315576e5):null;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("a",{href:"/solar/search/",className:"text-blue-600 hover:underline text-sm",children:"← Back to search"}),(0,t.jsx)("h1",{className:"text-2xl font-bold mt-2",children:i.site_name||`${i.county||"Unknown"}, ${i.state}`}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[(0,t.jsx)("span",{className:"capitalize bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-sm",children:i.site_type}),(0,t.jsx)("span",{className:"capitalize bg-green-100 text-green-800 px-2 py-0.5 rounded text-sm",children:i.site_status}),null!==p&&p>=10&&(0,t.jsxs)("span",{className:"bg-amber-100 text-amber-800 px-2 py-0.5 rounded text-sm",children:[p," years old"]}),i.has_battery_storage&&(0,t.jsx)("span",{className:"bg-purple-100 text-purple-800 px-2 py-0.5 rounded text-sm",children:"Battery Storage"})]})]}),i.latitude&&i.longitude&&(0,t.jsx)(s,{installations:[i],center:[Number(i.latitude),Number(i.longitude)],zoom:14,height:"300px"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Site Details"}),(0,t.jsxs)("dl",{className:"text-sm",children:[(0,t.jsx)(n,{label:"Capacity (MW)",value:i.capacity_mw?Number(i.capacity_mw).toFixed(1):null}),(0,t.jsx)(n,{label:"DC Capacity (kW)",value:i.capacity_dc_kw?Number(i.capacity_dc_kw).toLocaleString():null}),(0,t.jsx)(n,{label:"AC Capacity (kW)",value:i.capacity_ac_kw?Number(i.capacity_ac_kw).toLocaleString():null}),(0,t.jsx)(n,{label:"Mount Type",value:i.mount_type}),(0,t.jsx)(n,{label:"Tracking",value:i.tracking_type}),(0,t.jsx)(n,{label:"Install Date",value:i.install_date}),(0,t.jsx)(n,{label:"Interconnection Date",value:i.interconnection_date}),i.has_battery_storage&&(0,t.jsx)(n,{label:"Battery Storage",value:i.battery_capacity_kwh?`${i.battery_capacity_kwh} kWh`:"Yes"}),(0,t.jsx)(n,{label:"Modules",value:i.num_modules?Number(i.num_modules).toLocaleString():null}),(0,t.jsx)(n,{label:"Inverters",value:i.num_inverters?Number(i.num_inverters).toLocaleString():null}),i.total_cost&&(0,t.jsx)(n,{label:"Total Cost",value:`$${Number(i.total_cost).toLocaleString()}`}),i.cost_per_watt&&(0,t.jsx)(n,{label:"Cost/Watt",value:`$${Number(i.cost_per_watt).toFixed(2)}`})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Location"}),(0,t.jsxs)("dl",{className:"text-sm",children:[(0,t.jsx)(n,{label:"Address",value:i.address}),(0,t.jsx)(n,{label:"City",value:i.city}),(0,t.jsx)(n,{label:"County",value:i.county}),(0,t.jsx)(n,{label:"State",value:i.state}),(0,t.jsx)(n,{label:"Zip Code",value:i.zip_code}),i.latitude&&i.longitude&&(0,t.jsx)(n,{label:"Coordinates",value:`${Number(i.latitude).toFixed(4)}, ${Number(i.longitude).toFixed(4)}`})]}),i.latitude&&i.longitude&&(0,t.jsx)("a",{href:`https://www.google.com/maps?q=${i.latitude},${i.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-3 text-blue-600 hover:underline text-sm",children:"View on Google Maps →"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"People & Companies"}),(0,t.jsxs)("dl",{className:"text-sm",children:[(0,t.jsx)(n,{label:"Owner",value:i.owner_name,link:i.owner_name?`/solar/search/?owner=${encodeURIComponent(i.owner_name)}`:void 0}),(0,t.jsx)(n,{label:"Operator",value:i.operator_name,link:i.operator_name?`/solar/search/?q=${encodeURIComponent(i.operator_name)}`:void 0}),(0,t.jsx)(n,{label:"Developer",value:i.developer_name,link:i.developer_name?`/solar/search/?q=${encodeURIComponent(i.developer_name)}`:void 0}),(0,t.jsx)(n,{label:"Installer",value:i.installer_name,link:i.installer_name?`/solar/search/?installer=${encodeURIComponent(i.installer_name)}`:void 0})]})]})]})]}),i.equipment&&i.equipment.length>0&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold mb-4",children:["Equipment (",i.equipment.length,")"]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"text-left text-gray-500 border-b",children:[(0,t.jsx)("th",{className:"pb-2 pr-4",children:"Type"}),(0,t.jsx)("th",{className:"pb-2 pr-4",children:"Manufacturer"}),(0,t.jsx)("th",{className:"pb-2 pr-4",children:"Model"}),(0,t.jsx)("th",{className:"pb-2 pr-4",children:"Technology"}),(0,t.jsx)("th",{className:"pb-2 pr-4 text-right",children:"Qty"}),(0,t.jsx)("th",{className:"pb-2 pr-4 text-right",children:"Specs"}),(0,t.jsx)("th",{className:"pb-2",children:"Status"})]})}),(0,t.jsx)("tbody",{children:i.equipment.map(e=>(0,t.jsxs)("tr",{className:"border-b last:border-0",children:[(0,t.jsx)("td",{className:"py-2 pr-4 capitalize",children:e.equipment_type}),(0,t.jsx)("td",{className:"py-2 pr-4",children:e.manufacturer?(0,t.jsx)("a",{href:`/solar/equipment/?manufacturer=${encodeURIComponent(e.manufacturer)}&equipment_type=${e.equipment_type}`,className:"text-blue-600 hover:underline",children:e.manufacturer}):(0,t.jsx)("span",{className:"text-gray-300",children:"-"})}),(0,t.jsx)("td",{className:"py-2 pr-4 text-gray-600",children:e.model||"-"}),(0,t.jsx)("td",{className:"py-2 pr-4 text-gray-500",children:e.module_technology||"-"}),(0,t.jsx)("td",{className:"py-2 pr-4 text-right font-mono",children:e.quantity||"-"}),(0,t.jsxs)("td",{className:"py-2 pr-4 text-right text-gray-500",children:[e.module_wattage_w?`${e.module_wattage_w}W`:"",e.inverter_capacity_kw?`${e.inverter_capacity_kw} kW`:"",e.battery_capacity_kwh?`${e.battery_capacity_kwh} kWh`:""]}),(0,t.jsx)("td",{className:"py-2 capitalize text-gray-500",children:e.equipment_status})]},e.id))})]})})]}),i.events&&i.events.length>0&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold mb-4",children:["Site Events (",i.events.length,")"]}),(0,t.jsx)("div",{className:"space-y-3",children:i.events.map(e=>(0,t.jsxs)("div",{className:"flex gap-4 border-b last:border-0 pb-3",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 w-28 shrink-0",children:e.event_date||"Unknown date"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"capitalize font-medium",children:e.event_type}),e.description&&(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-0.5",children:e.description}),e.old_capacity_kw&&e.new_capacity_kw&&(0,t.jsxs)("p",{className:"text-sm text-gray-400 mt-0.5",children:["Capacity: ",Number(e.old_capacity_kw).toLocaleString()," kW →"," ",Number(e.new_capacity_kw).toLocaleString()," kW"]})]})]},e.id))})]})]})}function o(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{className:"text-gray-500 py-12 text-center",children:"Loading..."}),children:(0,t.jsx)(i,{})})}e.s(["default",()=>o])},73117,e=>{e.v(t=>Promise.all(["static/chunks/2394e0339a3313da.js"].map(t=>e.l(t))).then(()=>t(73383)))}]);